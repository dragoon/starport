<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="sunrise/sunrise.css"/>
    <link rel="stylesheet" href="weather/weather.css"/>
    <link rel="stylesheet" href="background/nightsky.css"/>
    <link rel="stylesheet" href="datetime/datetime.css"/>
    <link rel="stylesheet" href="extras/extras.css"/>
    <link rel="stylesheet" href="weather/test-weather.css"/>
    <link rel="stylesheet" href="util/range_slider.css"/>
    <link rel="stylesheet" href="calendar/calendar.css"/>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.3.6/pixi.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.js"></script>
    <script type="text/javascript" src="sunrise/sunrise.js"></script>
    <script type="text/javascript" src="weather/weather_card.js"></script>
    <script type="text/javascript" src="util/color.js"></script>
    <script type="text/javascript" src="extras/extras.js"></script>
    <title>Dashboard</title>
    <script type="text/javascript">
        // register the plugin
        gsap.registerPlugin(PixiPlugin, MotionPathPlugin);
        $(function () {

            class ViewModel {
                constructor() {
                    this.weatherMap = Object.values(weatherMap);
                }

                changeWeather(data, event) {
                    let card_id = Number($($(event.currentTarget).parentsUntil(".weather-cards")[3]).find(".container").attr("id").substring(13))  - 1;
                    changeWeather(data, card_id);
                }
            }

            ko.applyBindings(new ViewModel());
        });
    </script>
</head>
<body>
<!-- inner sun -->
<div id="sun_r"></div>
<div id="sunDay"></div>
<div id="sunSet"></div>
<div id="sky"></div>
<div id="horizon"></div>
<!-- night sky -->
<div id="horizonNight"></div>
<div id="darknessOverlaySky"></div>
<div class="canvas">
    <div class="datetime-container">
        <div style="display: flex; flex-direction: row">
            <div class="time"></div>
            <div>
                <span class="cur-temp"></span>
                <span class="temp-units">Â°</span>
            </div>
            <div>
                <span class="cur-wind"></span>
                <span class="wind-units">km/h</span>
            </div>
        </div>
        <div class="calendar-container">
            <table id="calendar">
                <thead>
                <tr>
                    <td>Mon</td>
                    <td>Tue</td>
                    <td>Wed</td>
                    <td>Thu</td>
                    <td>Fri</td>
                    <td>Sat</td>
                    <td>Sun</td>
                </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>
    <div class="weather-cards">
        <div class="weather-card-selector">
            <nav class="test-nav">
                <ul>
                    <!-- ko foreach: weatherMap -->
                    <li>
                        <a data-bind="click: function(data, event){ $parent.changeWeather(data, event)}">
                            <i class="wi" data-bind="css: icon, attr: {title: name}"></i>
                        </a>
                    </li>
                    <!-- /ko -->
                </ul>
            </nav>
            <div class="container" id="card-weather-1">
                <div class="card-container">
                    <div class="card weather">
                        <svg class="inner">
                            <defs>
                                <path id="leaf"
                                      d="M41.9,56.3l0.1-2.5c0,0,4.6-1.2,5.6-2.2c1-1,3.6-13,12-15.6c9.7-3.1,19.9-2,26.1-2.1c2.7,0-10,23.9-20.5,25 c-7.5,0.8-17.2-5.1-17.2-5.1L41.9,56.3z"/>
                            </defs>
                        </svg>
                        <canvas id="canvas"></canvas>
                        <div class="details">
                            <div class="temp">
                                <span id="temperature"></span><span class="temp-degrees"></span>
                                <span class="temperature-night"></span><span class="temp-degrees"></span>
                            </div>
                            <div class="right">
                                <div id="date"></div>
                                <div id="summary"></div>
                            </div>
                        </div>
                        <!-- separate elems to animate easier -->
                        <div class="sun"></div>
                        <div class="moon"></div>
                        <div class="details-bottom">
                        </div>
                    </div>
                </div>
                <svg class="outer"></svg>
            </div>
        </div>
        <div class="weather-card-selector">
            <nav class="test-nav">
                <ul>
                    <!-- ko foreach: weatherMap -->
                    <li>
                        <a data-bind="click: function(data, event){ $parent.changeWeather(data, event)}">
                            <i class="wi" data-bind="css: icon, attr: {title: name}"></i>
                        </a>
                    </li>
                    <!-- /ko -->
                </ul>
            </nav>
            <div class="container" id="card-weather-2">
                <div class="card-container">
                    <div class="card weather">
                        <svg class="inner">
                            <defs>
                                <path id="leaf"
                                      d="M41.9,56.3l0.1-2.5c0,0,4.6-1.2,5.6-2.2c1-1,3.6-13,12-15.6c9.7-3.1,19.9-2,26.1-2.1c2.7,0-10,23.9-20.5,25 c-7.5,0.8-17.2-5.1-17.2-5.1L41.9,56.3z"/>
                            </defs>
                        </svg>
                        <canvas id="canvas"></canvas>
                        <div class="details">
                            <div class="temp">
                                <span id="temperature"></span><span class="temp-degrees"></span>
                                <span class="temperature-night"></span><span class="temp-degrees"></span>
                            </div>
                            <div class="right">
                                <div id="date"></div>
                                <div id="summary"></div>
                            </div>
                        </div>
                        <div class="sun"></div>
                        <div class="moon"></div>
                        <div class="details-bottom">
                        </div>
                    </div>
                </div>
                <svg class="outer"></svg>
            </div>
        </div>
        <div class="weather-card-selector">
            <nav class="test-nav">
                <ul>
                    <!-- ko foreach: weatherMap -->
                    <li>
                        <a data-bind="click: function(data, event){ $parent.changeWeather(data, event)}">
                            <i class="wi" data-bind="css: icon, attr: {title: name}"></i>
                        </a>
                    </li>
                    <!-- /ko -->
                </ul>
            </nav>
            <div class="container" id="card-weather-3">
                <div class="card-container">
                    <div class="card weather">
                        <svg class="inner">
                            <defs>
                                <path id="leaf"
                                      d="M41.9,56.3l0.1-2.5c0,0,4.6-1.2,5.6-2.2c1-1,3.6-13,12-15.6c9.7-3.1,19.9-2,26.1-2.1c2.7,0-10,23.9-20.5,25 c-7.5,0.8-17.2-5.1-17.2-5.1L41.9,56.3z"/>
                            </defs>
                        </svg>
                        <canvas id="canvas"></canvas>
                        <div class="details">
                            <div class="temp">
                                <span id="temperature"></span><span class="temp-degrees"></span>
                                <span class="temperature-night"></span><span class="temp-degrees"></span>
                            </div>
                            <div class="right">
                                <div id="date"></div>
                                <div id="summary"></div>
                            </div>
                        </div>
                        <div class="sun"></div>
                        <div class="moon"></div>
                        <div class="details-bottom">
                        </div>
                    </div>
                </div>
                <svg class="outer"></svg>
            </div>
        </div>
        <div class="weather-card-selector">
            <nav class="test-nav">
                <ul>
                    <!-- ko foreach: weatherMap -->
                    <li>
                        <a data-bind="click: function(data, event){ $parent.changeWeather(data, event)}">
                            <i class="wi" data-bind="css: icon, attr: {title: name}"></i>
                        </a>
                    </li>
                    <!-- /ko -->
                </ul>
            </nav>
            <div class="container" id="card-weather-4">
                <div class="card-container">
                    <div class="card weather">
                        <svg class="inner">
                            <defs>
                                <path id="leaf"
                                      d="M41.9,56.3l0.1-2.5c0,0,4.6-1.2,5.6-2.2c1-1,3.6-13,12-15.6c9.7-3.1,19.9-2,26.1-2.1c2.7,0-10,23.9-20.5,25 c-7.5,0.8-17.2-5.1-17.2-5.1L41.9,56.3z"/>
                            </defs>
                        </svg>
                        <canvas id="canvas"></canvas>
                        <div class="details">
                            <div class="temp">
                                <span id="temperature"></span><span class="temp-degrees"></span>
                                <span class="temperature-night"></span><span class="temp-degrees"></span>
                            </div>
                            <div class="right">
                                <div id="date"></div>
                                <div id="summary"></div>
                            </div>
                        </div>
                        <div class="sun"></div>
                        <div class="moon"></div>
                        <div class="details-bottom">
                        </div>
                    </div>
                </div>
                <svg class="outer"></svg>
            </div>
        </div>
        <div class="weather-card-selector">
            <nav class="test-nav">
                <ul>
                    <!-- ko foreach: weatherMap -->
                    <li>
                        <a data-bind="click: function(data, event){ $parent.changeWeather(data, event)}">
                            <i class="wi" data-bind="css: icon, attr: {title: name}"></i>
                        </a>
                    </li>
                    <!-- /ko -->
                </ul>
            </nav>
            <div class="container" id="card-weather-5">
                <div class="card-container">
                    <div class="card weather">
                        <svg class="inner">
                            <defs>
                                <path id="leaf"
                                      d="M41.9,56.3l0.1-2.5c0,0,4.6-1.2,5.6-2.2c1-1,3.6-13,12-15.6c9.7-3.1,19.9-2,26.1-2.1c2.7,0-10,23.9-20.5,25 c-7.5,0.8-17.2-5.1-17.2-5.1L41.9,56.3z"/>
                            </defs>
                        </svg>
                        <canvas id="canvas"></canvas>
                        <div class="details">
                            <div class="temp">
                                <span id="temperature"></span><span class="temp-degrees"></span>
                                <span class="temperature-night"></span><span class="temp-degrees"></span>
                            </div>
                            <div class="right">
                                <div id="date"></div>
                                <div id="summary"></div>
                            </div>
                        </div>
                        <div class="sun"></div>
                        <div class="moon"></div>
                        <div class="details-bottom">
                        </div>
                    </div>
                </div>
                <svg class="outer"></svg>
            </div>
        </div>
    </div>
    <div id="settings">
        <div>
            <label for="time_of_day_range">Time of the day</label>
            <input id="time_of_day_range" type="range" class="range-slider__range range blue" min="0" max="1440" value="0" name="time of day"/>
        </div>
        <div>
            <label for="temperature_range">Temperature</label>
            <input id="temperature_range" type="range" class="range-slider__range range blue" min="-30" max="30" value="0" name="temperature"/>
        </div>
    </div>
    <div id="fps-monitor" style="position: absolute;bottom: 0;right: 0;color: #8B8E98;margin-right: 10px;margin-bottom: 10px;"></div>
</div>
<script type="text/javascript" src="weather/weather_colors.js"></script>
<script type="text/javascript" src="weather/weather_manager.js"></script>
<script type="text/javascript" src="datetime/time.js"></script>
<script type="text/javascript" src="util/fps.js"></script>
<script type="text/javascript" src="weather/weather_test.js"></script>
<script type="text/javascript" src="calendar/calendar.js"></script>
</body>
</html>
